このesolangはTSG夏合宿2018のために作られました。
# Bots
TSGのslackの#sandbox ではさまざまなbotが動いています。
例)
http://hakatashi.hatenadiary.com/entry/2017/12/03/173400
http://kurogoma.hatenablog.com/entry/2017/12/08/000000
http://hakatashi.hatenadiary.com/entry/2017/12/03/185033

初期にはbotが暴走してメッセージを垂れ流すなどの事件も起こっていました。
今回の"Bots"はこれを参考にして作りました。


# プログラムの構造
プログラムは `@hoge データ` の形の文字列です。ユーザー hogeに対してメンションを飛ばしている感じですね。
メンションを飛ばす先によって、実行される命令が違います。
基本的に、プログラムはスペース(` `)で区切られたトークン列だと思ってください。

# ユーザーにメンションを飛ばした際の挙動
## add
足します
プログラム `@add 7 2 .@hoge` は プログラム `@hoge 5` になります
## sub,mul,div
addのかわりに引き、掛け、割ります
`@sub 7 2 .@hoge` は `@hoge 5` になります
`@mul 7 2 .@hoge` は `@hoge 14` になります
`@div 7 2 .@hoge` は `@hoge 3` になります
## inc,ind
文字,数字を入力します。
`123`を入力した場合、(`1`の文字コードは49)
`@inc .@hoge` は `@hoge 49` に
`@ind .@hoge` は `@hoge 123` になります。
## outc,outd
文字,数字を出力します。
`@outc 49 .@hoge` は`1`を出力して `@hoge` に
`@outd 49 .@hoge` は`49`を出力して `@hoge` になります。
## user 
新たにユーザーを作ります
`@user hoge 区切り文字 (引数の列) 本体 区切り文字 .残り`
を飛ばされると、ユーザーhogeができ、プログラムは `残り` になります
ユーザーhogeにメンションを飛ばした際の挙動は、引数の列と本体によって規定されます。
`@user hoge | ($a,$b,$r) @add $a $b .@outd $r | .@hoge 3 5 .@huga .@piyo` は
まずユーザー hoge が定義されてプログラムが `@hoge 3 5 .@huga .@piyo`  となり、
hoge の本体中の `$a` が `3` で、 `$b` が `5` で、 `$r` が `.@huga .@piyo` に置換され、
プログラムは `@add 3 5 .@outd .@huga .@piyo` となります。この後、プログラムは `8` を出力して、
`@huga .@piyo` になります。
## if
if文です。
`@if 条件 区切り文字 .パターン1 区切り文字 .パターン2`
というプログラムは、条件が`0`なら`パターン2`に、条件が否`0`なら`パターン1`になります。
(`if 条件 then パターン1 else パターン2` みたいなかんじ)
## exit
プログラムが正常終了します。

# Tips
- 関数型言語、継続渡し、みたいなイメージでやっていくとよさそう
- interp.pyを読むといろいろとわるいことができるかも。